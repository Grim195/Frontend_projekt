import{_ as v,E as P,H as h,c as i,a as m,b as n,r as l,d as _,j as p,k,F as c,l as d,u as C,m as E,n as b,o,p as f,q as S,t as w}from"./index-DJ_guOLC.js";const y="/Frontend_projekt/assets/ticket-Ch6vqt-o.jpg",T={name:"ListingView",components:{HeroSection:h,EventCard:P},data(){return{ticketImg:y,sortBy:"date",currentPage:1,eventsPerPage:6,eventStore:b(),cart:E(),router:C()}},computed:{sortedEvents(){return[...this.eventStore.events].sort((e,t)=>this.sortBy==="price"?e.price-t.price:new Date(e.date)-new Date(t.date))},totalPages(){return Math.ceil(this.sortedEvents.length/this.eventsPerPage)},pagedEvents(){const e=(this.currentPage-1)*this.eventsPerPage;return this.sortedEvents.slice(e,e+this.eventsPerPage)}},methods:{addToCart(e){e.availableTickets>0&&(this.cart.addToCart(e),this.eventStore.buyTicket(e.id),alert(`Added "${e.title}" to cart!`))},viewEvent(e){this.router.push(`/events/${e}`)},prevPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},goToPage(e){this.currentPage=e}}},B={class:"controls"},x={class:"event-listing"},V={class:"event-grid"},D={class:"pagination"},H=["disabled"],N=["onClick"],j=["disabled"];function A(e,t,F,I,a,r){const u=l("HeroSection"),g=l("EventCard");return o(),i("main",null,[m(u,{title:"Events",subtitle:"Browse and book your tickets",image:a.ticketImg},null,8,["image"]),n("section",B,[n("label",null,[t[4]||(t[4]=_(" Sort by: ",-1)),p(n("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>a.sortBy=s)},[...t[3]||(t[3]=[n("option",{value:"date"},"Date",-1),n("option",{value:"price"},"Price",-1)])],512),[[k,a.sortBy]])])]),n("section",x,[n("div",V,[(o(!0),i(c,null,d(r.pagedEvents,s=>(o(),f(g,{key:s.id,event:s,onAddToCart:r.addToCart,onViewDetails:r.viewEvent},null,8,["event","onAddToCart","onViewDetails"]))),128))])]),n("section",D,[n("button",{disabled:a.currentPage===1,onClick:t[1]||(t[1]=(...s)=>r.prevPage&&r.prevPage(...s))},"Previous",8,H),(o(!0),i(c,null,d(r.totalPages,s=>(o(),i("button",{key:s,class:S({active:a.currentPage===s}),onClick:L=>r.goToPage(s)},w(s),11,N))),128)),n("button",{disabled:a.currentPage===r.totalPages,onClick:t[2]||(t[2]=(...s)=>r.nextPage&&r.nextPage(...s))},"Next",8,j)])])}const M=v(T,[["render",A],["__scopeId","data-v-32a1f805"]]);export{M as default};
